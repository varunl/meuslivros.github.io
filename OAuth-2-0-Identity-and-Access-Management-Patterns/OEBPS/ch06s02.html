<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Implicit grant example</title><link rel="stylesheet" href="epub.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body id="page"><div class="section" title="Implicit grant example"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec29"/>Implicit grant example</h1></div></div></div><p>For illustration, we will look at an<a id="id241" class="indexterm"/> example with the implicit grant. We are not going to cover it in detail as we can refer to the previous chapter. We'll just go through the important information that we will require while using it in mobile applications.</p><p>The implementation will be very similar to the one in the client-side applications, with two differences: the first difference will be that instead of clicking on a link in the client-side web, that will be done inside the mobile application; and the second difference is that if we are using a custom URL scheme, it is a different <code class="literal">redirect_uri</code>.</p><div class="section" title="Requesting authorization"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec28"/>Requesting authorization</h2></div></div></div><p>The client application constructs the <a id="id242" class="indexterm"/>request, using the specified endpoint and the needed parameters, and for example we may have the following form:</p><p>
<code class="literal">https://api.example-service.com/oauth/authorize?response_type=token&amp;client_id=CLIENT_ID_EXAMPLE&amp;redirect_uri=app123%3A%2F%2Fcb</code>
</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip16"/>Tip</h3><p>When constructing HTTP requests (not only in OAuth 2.0) we need to encode the strings before assigning them as values for the parameters so that the request will be valid and not misinterpreted. That's why when encoding the <code class="literal">app123://cb</code> character string as a value for the <code class="literal">redirect_uri</code> parameter, it becomes <code class="literal">app123%3A%2F%2Fcb</code>. URL encoding and decoding is pretty simple and there are numerous online tools as well as support in programming language libraries for that.</p></div></div></div><div class="section" title="Successful authorization"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec29"/>Successful authorization</h2></div></div></div><p>If the authorization was successful,<a id="id243" class="indexterm"/> meaning there were no errors, the <code class="literal">client_id</code> parameter<a id="id244" class="indexterm"/> was valid, and in the end the user has approved the authorization, the authorization server will redirect the client to the <code class="literal">redirect_uri</code> parameter<a id="id245" class="indexterm"/> and the response may have the following form:</p><p>
<code class="literal">app123://cb#access_token=ACCESS_TOKEN_VALUE&amp;expires_in=3600</code>
</p></div><div class="section" title="Authorization error"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec30"/>Authorization error</h2></div></div></div><p>And if any error occurred,<a id="id246" class="indexterm"/> or the user denied<a id="id247" class="indexterm"/> the authorization request, the response may have the following form:</p><p>
<code class="literal">app123://cb#error=ERROR_VALUE&amp;state=APP_STATE</code>
</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip17"/>Tip</h3><p>If the client gets an error, it's a good practice to show the user a friendly message that there was an error and to ask him whether he would like to try authorizing the client again.</p></div></div></div></div></body></html>
