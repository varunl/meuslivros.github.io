<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter&#xA0;3.&#xA0;First Step for Your Application</title><link rel="stylesheet" href="epub.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body id="page"><div class="chapter" title="Chapter&#xA0;3.&#xA0;First Step for Your Application"><div class="titlepage"><div><div><h1 class="title"><a id="ch03"/>Chapter&#xA0;3.&#xA0;First Step for Your Application</h1></div></div></div><p>This chapter will help us to take the necessary steps that are common when developing a client application.</p><p>As mentioned, client applications can be web, mobile, desktop, or any other type, and use OAuth 2.0 for making requests to protected resources (files, data, or other services that an API may provide) on a given service provider, on behalf of the resource owner, most commonly the user.</p><p>OAuth 2.0 has significantly improved from OAuth 1.0 regarding this area&#x2014;the focus of all the different types of applications and defining authorization flows for them.</p><div class="section" title="Client registration"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec17"/>Client registration</h1></div></div></div><p>When developing an application that makes requests to protected resources on some service provider, and if this service uses OAuth 2.0 for authorization, then the first thing the client developer must do<a id="id87" class="indexterm"/> is to register the application at the given service provider.</p><p>Usually this happens on some <a id="id88" class="indexterm"/>web interface where the developer inserts the requested data, as name and website of the client application, uploads an image to serve as the application logo, and specifies the redirection (also called callback) endpoint.</p><p>To make it clearer, we'll go through several examples of client registration. First, let's see how it is done on Facebook<a id="id89" class="indexterm"/>. Let's go to the following URL after we log in to Facebook: <a class="ulink" href="https://developers.facebook.com/apps">https://developers.facebook.com/apps</a>.</p><p>Select <span class="strong"><strong>Create New App</strong></span>, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/5594OS_03_01.jpg" alt="Client registration"/></div><p>We fill out the initial form and next we are greeted with more details and settings, as shown in the following <a id="id90" class="indexterm"/>screenshot:</p><div class="mediaobject"><img src="graphics/5594OS_03_02.jpg" alt="Client registration"/></div><p>What we see in the previous<a id="id91" class="indexterm"/> screenshot are the client ID and client secret,<a id="id92" class="indexterm"/> named <span class="strong"><strong>App ID</strong></span> and <span class="strong"><strong>App Secret</strong></span>.</p><p>Next, Facebook offers<a id="id93" class="indexterm"/> several accessible settings for different types of applications. For example, on the same page various options are given, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/5594OS_03_03.jpg" alt="Client registration"/></div><p>In the case of choosing <span class="strong"><strong>Mobile Web</strong></span>
<a id="id94" class="indexterm"/>, the parameter named <span class="strong"><strong>Mobile Site URL</strong></span>
<a id="id95" class="indexterm"/> is actually the callback URL.</p><p>The callback URL is optional, and if the client doesn't override this endpoint with the <code class="literal">redirect_uri</code> parameter<a id="id96" class="indexterm"/> when making the authorization request, the one specified in the<a id="id97" class="indexterm"/> registration is used as default. This is the same for all service providers when registering and using OAuth 2.0. We'll cover this parameter in later chapters; for now it's good <a id="id98" class="indexterm"/>enough to be aware of the callback URL.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip06"/>Tip</h3><p>When registering applications, after successfully filling out the data, every registration interface should provide the developer with the information that is needed to him or her, that is, the URL endpoints, unique client ID, and client secret for his/her application.</p></div></div><p>The client ID is used by the client application to identify itself when attempting to retrieve an access token. This information is public and anyone can find out a client ID for a given application, mostly because it's used as a parameter in the URL endpoints when making requests to the server.</p><p>On the other hand, the client secret is private information and it must remain confidential to the client application. If an application cannot keep this confidentiality (for example, pure JavaScript applications that run in the browser), then it is considered that it is a public client application and should omit this parameter when making requests to the server.</p><p>We can notice that the endpoints provided by Facebook are to be used over HTTPS. It is a must that the callback endpoint use HTTPS as well; the OAuth 2.0 specification requires the use of transport layer security. This means that <span class="strong"><strong>Transport Layer Security</strong></span> (<span class="strong"><strong>TLS</strong></span>)<a id="id99" class="indexterm"/> is used as a security mechanism and this way the tokens that are exchanged between the client application and the server are protected from interception.</p><p>Next, we'll explore one more example of client registration to realize that some services may require more information from the client developer and may offer some configuration parameters.<a id="id100" class="indexterm"/> This<a id="id101" class="indexterm"/> example in particular is <span class="strong"><strong>LinkedIn</strong></span>, <a id="id102" class="indexterm"/>as shown in the following<a id="id103" class="indexterm"/> screenshot:</p><div class="mediaobject"><img src="graphics/5594OS_03_04.jpg" alt="Client registration"/></div><p>In the previous screenshot, the first two sections of the registration are shown, which require the client developer to enter roughly the same data as in the previous example with Facebook. Additionally, it's required that the developer enters a company name and names the purpose of the application. These fields have nothing to do with the OAuth 2.0 specification, but the service provider (in this case LinkedIn) decided that they are important and required.</p><p>The most interesting part of the<a id="id104" class="indexterm"/> registration is the following section:</p><p>As shown in the following screenshot, the client developer can define the default scope of the client application. With this the developer explicitly says which type of information and access the client application <a id="id105" class="indexterm"/>can be given by the service (in this case the LinkedIn API).</p><div class="mediaobject"><img src="graphics/5594OS_03_05.jpg" alt="Client registration"/></div><p>For example, if the application<a id="id106" class="indexterm"/> that the developer is making only needs to access the user's basic profile (to check out name, surname, and so on), then the developer would require only the <code class="literal">r_basicprofile</code> scope<a id="id107" class="indexterm"/>. If the application additionally needs to be able to access and send messages on behalf of the user, then the developer would tick the checkbox (in this case <code class="literal">w_messages</code>) for that scope too.</p><p>Defining the really needed scope is always recommended, instead of ticking all the boxes and marking all the scopes available as required.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note03"/>Note</h3><p>LinkedIn supports both OAuth 2.0 and OAuth 1.0; that's why there are some optional parameters that we are not filling in when registering. These are for legacy applications.</p></div></div><p>Now that we have set up an application on the service provider, and with that successfully registered the client, we can move on to the next step&#x2014;implementing OAuth 2.0 in a particular type of application.</p></div></div></body></html>
