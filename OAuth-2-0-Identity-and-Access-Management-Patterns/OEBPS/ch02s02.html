<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Authorization flow</title><link rel="stylesheet" href="epub.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body id="page"><div class="section" title="Authorization flow"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec12"/>Authorization flow</h1></div></div></div><p>Next we'll cover an abstract<a id="id31" class="indexterm"/> example of the authorization flow and describe in brief the actual ones that are defined in OAuth 2.0.</p><div class="section" title="Abstract example"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec16"/>Abstract example</h2></div></div></div><p>Now that we know the roles,<a id="id32" class="indexterm"/> we can recall the previous diagram, which shows an abstract example<a id="id33" class="indexterm"/> of the way a client gets authorized, gets the token, <a id="id34" class="indexterm"/>and makes requests to the protected resources on behalf of the user.</p><p>The first and the second step<a id="id35" class="indexterm"/> specify the interaction between the client and the resource owner:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The client makes a request to the owner for authorization to his protected resources</li><li class="listitem" style="list-style-type: disc">The owner approves the request (access granted) and the client receives an <span class="strong"><strong>Authorization grant</strong></span><a id="id36" class="indexterm"/>&#x2014;credentialed data containing information about the owner's authorization</li></ul></div><p>Generally the client does not ask the owner directly, and this is done with the assistance of the authorization server.</p><p>The third and the fourth step specifies the interaction between the client and the authorization server:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The client supplies the authorization grant he got previously to the authorization server, so that he'll get an access token in response</li><li class="listitem" style="list-style-type: disc">The authorization server checks the authorization grant and if it is valid the authorization server gives the client an access token</li></ul></div><p>It is worth mentioning that the client also has to successfully authenticate with the server. So, in order to get an access token, the server not only checks the validity of the authorization grant but he first identifies who the client is.</p><p>This process of getting an authorization grant is discussed in detail later in this book. In this chapter we will just have a brief look at the four 'grant types' defined in the OAuth 2.0 specification&#x2014;grant flow scenarios that cover various scenarios for desktop clients, web clients, mobile clients, and so on.</p><p>The last two steps, five and six, specify the interaction between the client and the resource server:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The client makes a request specifying which protected resource he wants to access, and supplies the access token in order to pass security authentication</li><li class="listitem" style="list-style-type: disc">The server checks<a id="id37" class="indexterm"/> if the access token is valid and <a id="id38" class="indexterm"/>fulfills the request if it is</li></ul></div></div><div class="section" title="OAuth 2.0 grant flows"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec17"/>OAuth 2.0 grant flows</h2></div></div></div><p>One of the <a id="id39" class="indexterm"/>major improvements in OAuth 2.0 compared to OAuth 1.0 is the definition of various grant flows. Each flow has its use case and is <a id="id40" class="indexterm"/>recommended in some type of scenario, so let's go through a brief overview of them:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Authorization code grant flow</strong></span>:<a id="id41" class="indexterm"/> This is used for web server applications in general and it's the most frequently used grant</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Implicit grant flow</strong></span>: This <a id="id42" class="indexterm"/>is used for client applications that are not capable of keeping the credentials secure and it is frequently used for applications that need read-only access to some data</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Resource owner password credentials grant flow</strong></span>: <a id="id43" class="indexterm"/>This is the only grant flow where the actual username and password from the resource owner (the user) are sent in exchange for an access token and it is frequently used in scenarios where an already existing solution is migrating over to OAuth 2.0</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Client credentials grant flow</strong></span>:<a id="id44" class="indexterm"/> This is used for client applications that want to request access to some service provider on behalf of themselves and not on behalf of some end user, and it is useful when in need to access some service APIs that are 'userless' (for example, for maintenance, statistics, and so on)</li></ul></div></div></div></body></html>
