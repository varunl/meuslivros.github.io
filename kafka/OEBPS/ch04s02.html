<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Message compression in Kafka</title><link rel="stylesheet" href="epub.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body id="page"><div class="section" title="Message compression in Kafka"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec19"/>Message compression in Kafka</h1></div></div></div><p>As we have discussed, Kafka<a id="id71" class="indexterm"/> uses message set feature for grouping the messages. It also provides a message group compression feature. Here, data is compressed by the message producer using either<a id="id72" class="indexterm"/> <span class="strong"><strong>GZIP</strong></span> or <span class="strong"><strong>Snappy</strong></span>
<a id="id73" class="indexterm"/> compression protocols and decompressed by the message consumer. There is lesser network overhead for the compressed message set where it also puts very little overhead of decompression at the consumer end.</p><p>This compressed set of <a id="id74" class="indexterm"/>messages can be presented as a single message to the consumer who later decompresses it. Hence, the compressed message may have infinite depth of messages within itself.</p><p>To differentiate between compressed and uncompressed messages, a compression-attributes byte is introduced in the message header. Within this compression byte, the lowest two bits are used to represent the compression codec used for compression and the value <code class="literal">0</code> of these last two bits represents an uncompressed message.</p><p>Message compression techniques are very useful for mirroring the data across datacenters using Kafka, where large amounts of data get transferred from active to passive datacenters in compressed format.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note10"/>Note</h3><p>For more detailed usage on <a id="id75" class="indexterm"/>Kafka message compression, visit <a class="ulink" href="https://cwiki.apache.org/confluence/display/KAFKA/Compression">https://cwiki.apache.org/confluence/display/KAFKA/Compression</a>.</p></div></div></div></body></html>
